<a routerLink="/admin/user/0">Nouvel utilisateur</a>
<div *ngIf="listUsers">
  <table>
    <tr>
      <th>Id</th>
      <th>Username</th>
      <th>Email</th>
      <th>Roles</th>

      <th>Mod.</th>
      <th>Supp.</th>
    </tr>
    <tr *ngFor="let user of listUsers">
      <td>{{ user.id}}</td>
      <td>{{ user.username}}</td>
      <td>{{ user.email}}</td>
      <td>{{ user.roles}}</td>
      <td><button routerLink="/admin/user/{{ user.id }}">Mod.</button></td>
      <td><button (click) ="onDelete(user)">Supp.</button></td>
    </tr>
  </table>


  <mat-form-field>
    <input matInput placeholder="Search users" #input>
  </mat-form-field>
  
  <div class="spinner-container" *ngIf="dataSource.loading$ | async">
    <mat-spinner></mat-spinner>
  </div>
  
  <mat-table class="users-table mat-elevation-z8" *ngIf="!(dataSource.loading$ | async)" [dataSource]="dataSource"
           matSort matSortActive="id" matSortDirection="asc" matSortDisableClear>
    <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.id}}</mat-cell>
    </ng-container>
  
    <ng-container matColumnDef="username">
      <mat-header-cell *matHeaderCellDef>username</mat-header-cell>
      <mat-cell class="username-cell"
                *matCellDef="let user">{{user.username}}</mat-cell>
  </ng-container> 

    <ng-container matColumnDef="email">
        <mat-header-cell *matHeaderCellDef>email</mat-header-cell>
        <mat-cell class="email-cell"
                  *matCellDef="let user">{{user.email}}</mat-cell>
    </ng-container> 
  
    <ng-container matColumnDef="roles">
        <mat-header-cell *matHeaderCellDef>Role</mat-header-cell>
        <mat-cell class="roles-cell"
                  *matCellDef="let user">{{user.roles}}</mat-cell>
    </ng-container>
    <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
    <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
  </mat-table>
  
  <mat-paginator [length]="listUsers.length" [pageSize]="10"
               [pageSizeOptions]="[5, 10, 20]"
  ></mat-paginator>
  


</div>
<div *ngIf="!listUsers">
  Aucun utilisateur
</div>