<div class="container">
  <a routerLink="/admin/author/0">Nouvel auteur</a>
  <div *ngIf="listAuthors">
    <table>
      <tr>
        <th>Id</th>
        <th>Nom</th>
        <th>userId</th>
        <th>Mod.</th>
        <th>Supp.</th>
      </tr>
      <tr *ngFor="let author of listAuthors">
        <td>{{ author.id}}</td>
        <td>{{ author.firstname}} {{ author.familyname }}</td>
        <td>{{ author.user.id}} {{ author.user.username}}</td>
        <td><button routerLink="/admin/author/{{ author.id }}">Mod.</button></td>
        <td><button (click) ="onDelete(author)">Supp.</button></td>
      </tr>
    </table>


    <mat-form-field>
      <input matInput placeholder="Search authors" #input>
    </mat-form-field>
    
    <div class="spinner-container" *ngIf="dataSource.loading$ | async">
      <mat-spinner></mat-spinner>
    </div>
    
    <mat-table class="authors-table mat-elevation-z8" [dataSource]="dataSource"
            matSort matSortActive="id" matSortDirection="asc" matSortDisableClear>
      <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef mat-sort-header>#</mat-header-cell>
          <mat-cell *matCellDef="let author">{{ author.id }}</mat-cell>
      </ng-container>
    
      <ng-container matColumnDef="familyname">
          <mat-header-cell *matHeaderCellDef>Nom</mat-header-cell>
          <mat-cell class="title-cell"
                    *matCellDef="let author">{{ author.familyname }}</mat-cell>
      </ng-container> 
    
      <ng-container matColumnDef="firstname">
          <mat-header-cell *matHeaderCellDef>Pr√©nom</mat-header-cell>
          <mat-cell class="date-cell"
                    *matCellDef="let author">{{ author.firstname }}</mat-cell>
      </ng-container>
    
      <ng-container matColumnDef="user">
        <mat-header-cell *matHeaderCellDef>Utilisateur</mat-header-cell>
        <mat-cell class="author-cell"
                  *matCellDef="let author">{{ author.user.username }}</mat-cell>
      </ng-container>



      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns"></mat-row>
    </mat-table>
    
    <mat-paginator [length]="listAuthors.length" [pageSize]="10"
                [pageSizeOptions]="[5, 10, 20]"
    ></mat-paginator>
    
  </div>
  <div *ngIf="!listAuthors">
    Aucun auteur
  </div>
</div>