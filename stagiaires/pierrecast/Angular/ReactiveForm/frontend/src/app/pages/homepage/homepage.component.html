<form [formGroup]="userForm" (ngSubmit) = "onSubmitForm()">
    <div id="leftpart">
        <div class='insidePart'>
            <div class="form-group form-element form-firstName">
                <div class="form-container">
                    <label>Nom</label>
                    <input type="text" class="form-control" [formControl]="userForm.controls.firstName" placeholder="Nom">
                    <div class="valide-container">
                        <span class="valide-ok"></span>
                        <span class="valide-ko"></span>
                    </div>
                    <div class="error-message-container">
                        <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.firstName.pristine || (!userForm.controls.firstName.errors || !userForm.controls.firstName.errors.required)'>
                            Le nom est requis
                        </div>
                        <div class="errors error-message error-max-length" 
                        [hidden]='userForm.controls.firstName.pristine || (!userForm.controls.firstName.errors || !userForm.controls.firstName.errors.maxlength)'>
                            Le nom doit être inférieur à 30 caractères.
                        </div>
                    </div> 
                </div>
            </div>
            
            <div class="form-group form-element form-lastName">
                <label>Prénom</label>
                <input type="text" class="form-control" placeholder="Prénom" formControlName="lastName">
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message" 
                        [hidden]='userForm.controls.lastName.pristine || (!userForm.controls.lastName.errors || !userForm.controls.lastName.errors.maxlength)'>
                        Le prénom doit être inférieur à 30 caractères.
                    </div>
                </div>
            </div>

            <div class="form-group form-element form-email">
                <label>Email</label>
                <input type="text" class="form-control" formControlName="email" placeholder="Email">
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.email.pristine || (!userForm.controls.email.errors || !userForm.controls.email.errors.required)'>
                        L'email est requis
                    </div>
                    <div class="errors error-message" 
                        [hidden]='userForm.controls.email.pristine || (!userForm.controls.email.errors || !userForm.controls.email.errors.email)'>
                        L'email n'a pas le bon format.
                    </div>
                </div>
            </div>

            <div class="form-group form-element form-nationality">
                <label>Nationalité</label>
                <select class="form-control" formControlName="nationality">
                    <option value='' disabled selected >Nationalité</option>
                    <option *ngFor = "let option of nationalities; let i = index" value='{{ i }}' >
                        {{ option }}
                    </option>
                </select>
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.nationality.pristine || (!userForm.controls.nationality.errors || !userForm.controls.nationality.errors.required)'>
                        La nationalité est requise
                    </div>
                </div>
            </div>

            <div class="form-group form-element form-sex">
                <div id="radioButtons">
                    <input type="radio" class="form-control" formControlName="sex" value="sexF">
                    <label>Femme</label>
                    
                    <input type="radio"  class="form-control" formControlName="sex" value="sexM">
                    <label>Homme</label>
                    
                    <input type="radio"   class="form-control" formControlName="sex" value="sex0" checked>
                    <label>Autre</label>
                </div>

                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.sex.pristine || (!userForm.controls.sex.errors || !userForm.controls.sex.errors.validSex)'>
                        Le genre est requis
                    </div>
                </div>
            </div>

            <div class="form-group form-element form-roles">
                <div class="formRoleGroup" formArrayName="rolesGroup" 
                *ngFor="let role of roles; let i = index">
                    <input type="checkbox" class="form-control" formControlName="roles_{{i}}">
                    <label>{{ role }}</label>
                </div>
            </div>  
           
            <div class="form-group form-element form-date">
                <label for="date">Date de naissance</label>
                <input type="date" class="form-control" name="date_naissance" formControlName="date_naissance" data-pristine="true" required>
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-format"
                        [hidden]='userForm.controls.date_naissance.pristine || (!userForm.controls.date_naissance.errors || !userForm.controls.date_naissance.errors.validDateFormat)'>
                            la date n'a pas le bon format
                    </div>
                    <div class="errors error-message error-min-age"
                        [hidden]='userForm.controls.date_naissance.pristine || (!userForm.controls.date_naissance.errors || !userForm.controls.date_naissance.errors.validAge)'>
                            l'âge minimum requis est de 18 ans
                    </div>
                </div> 
            </div> 

            <div class="form-group form-element form-login">
                <label for="login">Pseudo</label>
                <input type="text" name="login" id="login" data-pristine="true" 
                placeholder="Choisissez un pseudo (obligatoire)" required 
                class="form-control"  formControlName="login">
                
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                 
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                    [hidden]='userForm.controls.login.pristine || (!userForm.controls.login.errors || !userForm.controls.login.errors.required)'>
                        le pseudo est requis
                    </div>
                    <div class="errors error-message error-required" 
                    [hidden]='userForm.controls.login.pristine || (!userForm.controls.login.errors || !userForm.controls.login.errors.isUsed)'>
                        Ce pseudo est déja utilisé
                    </div>
                </div>
            </div>

           <div class="form-group form-element form-password" formGroupName="passwordGroup">
                <label for="password">Mot de passe</label>
                <input type="password" name="password" 
                    class="form-control"  formControlName="password"
                    data-pristine="true" placeholder="Mot de passe (obligatoire)" required>
                <label for="repeat">Resaisir le mot de passe</label>
                <input type="password" name="repeat" id="repeat" 
                    class="form-control"  formControlName="repeat"
                    data-pristine="true" placeholder="Resaisissez Mot de passe (obligatoire)" required>
                
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                    [hidden]='userForm.controls.passwordGroup.pristine || (!userForm.controls.passwordGroup.errors || !userForm.controls.passwordGroup.errors.required)'>
                        le mot de passe est requis
                    </div>
                    <div class="errors error-message error-difference " 
                    [hidden]='userForm.controls.passwordGroup.pristine || (!userForm.controls.passwordGroup.errors || !userForm.controls.passwordGroup.errors.comparePassword)'>
                        les mots de passe sont différents
                    </div>
                </div>
            </div>

            <div class="form-group form-element form-date">
                <label for="date">Date de début</label>
                <input type="date" class="form-control" name="date_debut" formControlName="date_debut" data-pristine="true" required>
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-format"
                        [hidden]='userForm.controls.date_debut.pristine || (!userForm.controls.date_debut.errors || !userForm.controls.date_debut.errors.required)'>
                            le format de la date n'est pas correct
                    </div>
                </div> 
            </div> 

            <div class="form-group form-element form-date">
                <label for="date">Date de fin</label>
                <input type="date" class="form-control" name="date_fin" formControlName="date_fin" data-pristine="true" required>
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-format"
                        [hidden]='userForm.controls.date_fin.pristine || (!userForm.controls.date_fin.errors || !userForm.controls.date_fin.errors.required)'>
                            le format de la date n'est pas correct
                    </div>
                    <div class="errors error-message"
                        [hidden]='userForm.controls.date_fin.pristine || (!userForm.errors || !userForm.errors.compareDatefields)'>
                            La chronologie des dates n'est pas correcte 
                    </div>
                </div> 
            </div> 
            
            <div class="submit-container">
                <button type="submit"  
                    class="submit-button"
                    [disabled]="userForm.invalid"
                ></button>
            </div>
        </div>
    </div>
</form>
