<form [formGroup]="userForm" (ngSubmit) = "onSubmitForm()">
    <div id="leftpart">
        <div class='insidePart'>
            <div class="form-group form-element">
                <div class="form-container">
                    <label>Nom</label>
                    <input type="text" class="form-control" [formControl]="userForm.controls.firstName" placeholder="Nom">
                    <div class="valide-container">
                        <span class="valide-ok"></span>
                        <span class="valide-ko"></span>
                    </div>
                    <div class="error-message-container">
                        <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.firstName.pristine || (!userForm.controls.firstName.errors || !userForm.controls.firstName.errors.required)'>
                            Le nom est requis
                        </div>
                        <div class="errors error-message error-max-length" 
                        [hidden]='userForm.controls.firstName.pristine || (!userForm.controls.firstName.errors || !userForm.controls.firstName.errors.maxlength)'>
                            Le nom doit être inférieur à 30 caractères.
                        </div>
                    </div> 
                </div>
            </div>
            
            <div class="form-group form-element">
                <label>Prénom</label>
                <input type="text" class="form-control" placeholder="Prénom" formControlName="lastName">
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message" 
                        [hidden]='userForm.controls.lastName.pristine || (!userForm.controls.lastName.errors || !userForm.controls.lastName.errors.maxlength)'>
                        Le prénom doit être inférieur à 30 caractères.
                    </div>
                </div>
            </div>

            <div class="form-group form-element">
                <label>Email</label>
                <input type="text" class="form-control" formControlName="email" placeholder="Email">
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.email.pristine || (!userForm.controls.email.errors || !userForm.controls.email.errors.required)'>
                        L'email est requis
                    </div>
                    <div class="errors error-message" 
                        [hidden]='userForm.controls.email.pristine || (!userForm.controls.email.errors || !userForm.controls.email.errors.email)'>
                        L'email n'a pas le bon format.
                    </div>
                </div>
            </div>


            <div class="form-group form-element">
                <label>Nationalité</label>
                <select class="form-control" formControlName="nationality">
                    <option value='' disabled selected >Nationalité</option>
                    <option *ngFor = "let option of nationalities; let i = index" value='{{ i }}' >
                        {{ option }}
                    </option>
                </select>
                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.nationality.pristine || (!userForm.controls.nationality.errors || !userForm.controls.nationality.errors.required)'>
                        La nationalité est requise
                    </div>
                </div>
            </div>

            <div class="form-group form-element">
                
                <div>
                    <input type="radio" class="form-control" formControlName="sex" value="sexF">
                    <label>Femme</label>
                    
                    <input type="radio"  class="form-control" formControlName="sex" value="sexM">
                    <label>Homme</label>
                    
                    <input type="radio"   class="form-control" formControlName="sex" value="sex0" checked>
                    <label>Autre</label>
                </div>

                <div class="valide-container">
                    <span class="valide-ok"></span>
                    <span class="valide-ko"></span>
                </div>
                <div class="error-message-container">
                    <div class="errors error-message error-required" 
                        [hidden]='userForm.controls.sex.pristine || (!userForm.controls.sex.errors || !userForm.controls.sex.errors.validSex)'>
                        Le genre est requis
                    </div>
                </div>
            </div>

            <div class="form-group form-element">
                <div *ngFor="let role of roles">
                    <input type="checkbox" class="form-control" formControlName="roles">
                    <label>{{ role.name}}</label>
                </div>
                
            </div>
            
            <div class="submit-container">
                <button type="submit" 
                    class="btn btn-primary"
                    [disabled]="userForm.invalid"
                >Sousmettre</button>
            </div>
        </div>
    </div>
</form>
