<input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>

<div class="mat-elevation-z8">
  <table mat-table [dataSource]="dataSource" matSort>

    <!-- user Column -->
    <ng-container  matColumnDef="user">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Utilisateur </th>
      <td mat-cell *matCellDef="let row"> {{row.user.name | uppercase}} {{row.user.surname | titlecase}} </td>
    </ng-container>

    <!-- date Column -->
    <ng-container matColumnDef="date">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
      <td mat-cell *matCellDef="let row"> {{row.date | date:'d/M/y'}} </td>
    </ng-container>

    <!-- product Column -->
    <ng-container matColumnDef="product">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Produit </th>
      <td class='productName' (click)="onOrderNameClick(row)" mat-cell *matCellDef="let row"> {{row.product.name}} </td>
    </ng-container>

    <!-- price Column -->
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Prix </th>
      <td mat-cell *matCellDef="let row" > {{row.totalPrice}} € </td>
    </ng-container>

    <!-- isPaid Column -->
    <ng-container matColumnDef="isPaid">
      <th mat-header-cell *matHeaderCellDef mat-sort-header> Payement </th>
      <td mat-cell *matCellDef="let row" > {{row.isPaid?'ok':'En attente'}}
        <button (click)='onPayOrderButtonCLick(row)' *ngIf='!row.isPaid && currentUser?.isAdmin'>payer</button>
      </td>
    </ng-container>
    
    <ng-container matColumnDef="cancelOrder">

      <th mat-header-cell *matHeaderCellDef></th>
      <td  mat-cell *matCellDef="let row"><button *ngIf="isNotOutdated(row.date)" (click)='onCancelOrderButtonClick(row)'>annuler la commande</button></td>

    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

    <!-- Row shown when there is no matching data. -->
    <tr class="mat-row" *matNoDataRow>
      <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
    </tr>
  </table>

  <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]"></mat-paginator>
</div>



<!--<table>
    <thead>
      <tr>
        <th *ngIf='currentUser?.isAdmin'>Utilisateur</th>
        <th>Produit</th>
        <th>Date</th>
        <th>Prix</th>
        <th>Payement</th>
      </tr>
    </thead>

    <tbody>
      <tr *ngFor='let order of ordersList'>

        <td *ngIf='currentUser?.isAdmin'>
          {{order.user.name | uppercase}} {{order.user.surname | titlecase}}
        </td>
        <td class='productName' (click)="onOrderNameClick(order)">{{order.product.name}}</td>
        <td>{{order.date | date:'d/M/y'}}</td>
        <td>{{order.totalPrice}} €</td>
        <td>{{order.isPaid?'ok':'En attente'}}
          <button (click)='onPayOrderButtonCLick(order)' *ngIf='!order.isPaid && currentUser?.isAdmin'>payer</button>
        </td>
        <td *ngIf="isNotOutdated(order.date)"><button (click)='onCancelOrderButtonClick(order)'>annuler la commande</button></td>
      </tr>
      
    </tbody>
    
</table> -->