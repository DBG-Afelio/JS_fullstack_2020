<app-sidebar [selectedProduct]="selectedProduct" 

[selectedProductPrice]="selectedProductPrice"
[selectedProductOptions]="selectedProductOptions" 
[selectedProductSupplier]="selectedProductSupplier" 
*ngIf="sidebarDisplay" 
(newOrderOutput)="createOrderEvent($event)"> </app-sidebar>

<div class="container" *ngIf="userDisplayed">
  <div class="divProfile">
    <h2>Mon profil</h2>
    <div class="descriptionProfile">
      {{ userDisplayed.prenom | titlecase}} {{ userDisplayed.nom | titlecase}}<br>
      Crédit à rembourser: {{ userDisplayed.credit}} €<br>
      Formation: <span>{{userDisplayed.formation}}</span>
      <span *ngIf="userDisplayed.banni">Actuellement vous ne pouvez pas commander quelque chose. Contactez un administrateur</span>
    </div>


  </div>

  <div class="divOrders">
    <h2>Mes commandes</h2>
    <div *ngIf="!ordersDisplayed">
      Pas de commande déjà réalisée.
    </div>
    <div *ngIf="ordersDisplayed" >
      <div *ngFor="let order of ordersDisplayed" class="divOneOrder" >
        <span class="productName" *ngIf="order.item.fourn_id === 1">Sandwich </span>
        <span class="productName" *ngIf="order.item.fourn_id === 2">Pizza </span>
        <span class="productName">{{order.item.nom}}</span><br> de chez {{order.item.supplier.nom}} à {{order.item.prix}} euros<br>
        <div>
          <span *ngFor="let option of order.getSelectedOptions()">{{option.nom}}: {{option.surcout}} euros</span>
        </div>
        <span> Prix total: {{order.getTotalPrice()}} euros</span><br>
        <button class="btn btn-primary buttonOrderAgain" (click)="orderAgain(order)">Commander à nouveau</button>
        <hr>
      </div>
    </div>
  </div>

</div>