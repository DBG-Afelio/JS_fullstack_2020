
<app-nav-product
    [listSuppliers] = "listSuppliers"
></app-nav-product>


<div class="detail-item">
    <app-detail-item
        [product] = "product"
    ></app-detail-item>
</div>

<div *ngIf="currentUser && product">
    <div *ngIf="product.options.length > 0">
        <div *ngFor="let option of product.options">
            <input  
                type="checkbox" 
                [checked]="fullOrder?.getProduct().id === product.id && selected.includes(option.id)" 
                (change)="optionChangeRequest(option, $event.target.checked)"> 
                option : {{ option.nom }} + {{ option.surcout | currency: 'EUR':'symbol-narrow' }}
        </div>
    </div>
        Total : {{ updatedPrice | currency : 'EUR':'symbol-narrow' }} 
    <button
        (click)="saveInLocalStorage()"
        [disabled]="!isOnTime">
        AJOUTER >>
    </button>  
  
    <button *ngIf="fullOrder && product.id === fullOrder.getOrder().productId"
        (click)="remove()"
        [disabled]="!isOnTime">
        RETIRER
    </button>
    <button *ngIf="fullOrder && !fullOrder.isConfirmed() && fullOrder.getProduct().id===product.id"
        routerLink="/paiement"
        [disabled]="!isOnTime">
        >> PAIMENT
    </button>
</div>


<div *ngIf="!(currentUser && product)">
    Pour commander ce sandwich, identifiez-vous !
</div>